var serializing=function(e){var t="";e.match(/check_id/)?t+="user_id="+document.getElementById("user_id").value:e.match(/check_pw/)?(t+="user_id="+document.getElementById("user_id").value,t+="&password="+document.getElementById("password").value):e.match(/check_em/)&&(t+="email="+document.getElementById("email").value),checkValidation(e,t)},checkValidation=function(e,t){var n=new XMLHttpRequest;n.open("POST","/join/"+e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){var e,t;if(e=4,t=200,4==n.readyState&&200==n.status){var d=JSON.parse(n.responseText);if(d.success)"id"===d.checkTarget?document.getElementById("id-validation-err")&&(document.getElementById("id-validation-err").outerHTML=""):"password"===d.checkTarget?document.getElementById("pw-validation-err")&&(document.getElementById("pw-validation-err").outerHTML=""):"email"===d.checkTarget&&document.getElementById("em-validation-err")&&(document.getElementById("em-validation-err").outerHTML="");else{var a,r;if("id"===d.checkTarget){switch(a="",d.errType){case"idLength":a="ID는 6~15 글자만 허용합니다.";break;case"duplicateId":a="이미 사용중인 ID 입니다.";break;case"idSpecial":a="특수 문자가 들어갈 수 없습니다.(_ 제외)"}document.getElementById("id-validation-err")?(document.getElementById("id-validation-err").innerHTML=a,document.getElementById("user_id").focus()):(r=document.createElement("span"),r.setAttribute("id","id-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=a,document.querySelectorAll('label[for="user_id"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("user_id").focus())}else if("password"===d.checkTarget){switch(a="",d.errType){case"pwLength":a="10 ~ 15자리를 사용해야 합니다.";break;case"pwSpecial":a="특수문자를 1개 이상 사용해야 합니다.";break;case"mix":a="숫자와 영문자를 혼용하여야 합니다.";break;case"repetition":a="같은 문자를 4번 이상 사용하실 수 없습니다.";break;case"includeId":a="아이디가 포함되었습니다."}document.getElementById("pw-validation-err")?(document.getElementById("pw-validation-err").innerHTML=a,document.getElementById("password").focus()):(r=document.createElement("span"),r.setAttribute("id","pw-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=a,document.querySelectorAll('label[for="password"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("password").focus())}else if("email"===d.checkTarget){switch(a="",d.errType){case"invalidEmail":a="올바르지 않은 E-mail 형식입니다.";break;case"duplicateEmail":a="이미 사용중인 E-mail 입니다."}document.getElementById("em-validation-err")?(document.getElementById("em-validation-err").innerHTML=a,document.getElementById("email").focus()):(r=document.createElement("span"),r.setAttribute("id","em-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=a,document.querySelectorAll('label[for="email"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("email").focus())}}}},n.send(t)},ready=function(){addEvent(document.getElementById("join-submit"),"click",function(e){e.preventDefault();var t=document.getElementById("user_id").value,n=document.getElementById("name").value,d=document.getElementById("email").value,a=document.getElementById("password").value;return""===t?(alert("ID를 입력하지 않으셨습니다."),document.getElementById("user_id").focus(),!1):""===n?(alert("비밀번호를 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):""===d?(alert("E-Mail을 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):""===a?(alert("비밀번호를 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):t.length>=6&&t.length<=15?t.match(/[\s+=\-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\/]/)?(alert("ID에는 특수 문자가 들어갈 수 없습니다.\n(_ 제외)"),document.getElementById("user_id").focus(),!1):d.match(/(\w)+\@(\w)+\.(\w)+/)?a.match(/[\s+=_\-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\/]/)?a.match(/^(?=.*[a-zA-Z])(?=.*[\s+=_-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\])(?=.*[0-9]).{8,16}$/)?a.search(/[0-9]/g)<0||a.search(/[a-z]/gi)<0?(alert("비밀번호는 숫자와 영문자를 혼용하여야 합니다."),document.getElementById("password").focus(),!1):/(\w)\1\1\1/.test(a)?(alert("비밀번호는 같은 문자를 4번 이상 사용하실 수 없습니다."),document.getElementById("password").focus(),!1):"string"==typeof t&&a.search(t)>-1?(alert("비밀번호에 아이디가 포함되었습니다."),document.getElementById("password").focus(),!1):void document.getElementById("join-form").submit():(alert("비밀번호는 10 ~ 15자리를 사용해야 합니다."),document.getElementById("password").focus(),!1):(alert("비밀번호는 키보드 상의 특수문자를 최소 1개 이상 사용해야 합니다."),document.getElementById("password").focus(),!1):(alert("올바르지 않은 E-mail 형식입니다."),document.getElementById("email").focus(),!1):(alert("ID는 6~15 글자만 허용합니다."),document.getElementById("user_id").focus(),!1)}),addEvent(document.getElementById("user_id"),"blur",function(e){serializing("check_id")}),addEvent(document.getElementById("email"),"blur",function(e){serializing("check_em")}),addEvent(document.getElementById("password"),"blur",function(e){serializing("check_pw")})};
"use strict";var serializing=function(e){var t="";e.match(/check_id/)?t+="user_id="+document.getElementById("user_id").value:e.match(/check_pw/)?(t+="user_id="+document.getElementById("user_id").value,t+="&password="+document.getElementById("password").value):e.match(/check_em/)&&(t+="email="+document.getElementById("email").value),checkValidation(e,t)},checkValidation=function(e,t){var n=new XMLHttpRequest;n.open("POST","/join/"+e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){var e,t;if(e=4,t=200,4==n.readyState&&200==n.status){var a=JSON.parse(n.responseText);if(a.success)"id"===a.checkTarget?document.getElementById("id-validation-err")&&(document.getElementById("id-validation-err").outerHTML=""):"password"===a.checkTarget?document.getElementById("pw-validation-err")&&(document.getElementById("pw-validation-err").outerHTML=""):"email"===a.checkTarget&&document.getElementById("em-validation-err")&&(document.getElementById("em-validation-err").outerHTML="");else if("id"===a.checkTarget){var d="";switch(a.errType){case"idLength":d="ID는 6~15 글자만 허용합니다.";break;case"duplicateId":d="이미 사용중인 ID 입니다.";break;case"idSpecial":d="특수 문자가 들어갈 수 없습니다.(_ 제외)"}if(document.getElementById("id-validation-err"))document.getElementById("id-validation-err").innerHTML=d,document.getElementById("user_id").focus();else{var r=document.createElement("span");r.setAttribute("id","id-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=d,document.querySelectorAll('label[for="user_id"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("user_id").focus()}}else if("password"===a.checkTarget){var d="";switch(a.errType){case"pwLength":d="10 ~ 15자리를 사용해야 합니다.";break;case"pwSpecial":d="특수문자를 1개 이상 사용해야 합니다.";break;case"mix":d="숫자와 영문자를 혼용하여야 합니다.";break;case"repetition":d="같은 문자를 4번 이상 사용하실 수 없습니다.";break;case"includeId":d="아이디가 포함되었습니다."}if(document.getElementById("pw-validation-err"))document.getElementById("pw-validation-err").innerHTML=d,document.getElementById("password").focus();else{var r=document.createElement("span");r.setAttribute("id","pw-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=d,document.querySelectorAll('label[for="password"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("password").focus()}}else if("email"===a.checkTarget){var d="";switch(a.errType){case"invalidEmail":d="올바르지 않은 E-mail 형식입니다.";break;case"duplicateEmail":d="이미 사용중인 E-mail 입니다."}if(document.getElementById("em-validation-err"))document.getElementById("em-validation-err").innerHTML=d,document.getElementById("email").focus();else{var r=document.createElement("span");r.setAttribute("id","em-validation-err"),r.setAttribute("class","validation-err"),r.innerHTML=d,document.querySelectorAll('label[for="email"]')[0].insertAdjacentHTML("afterend",r.outerHTML),document.getElementById("email").focus()}}}},n.send(t)},ready=function(){addEvent(document.getElementById("join-submit"),"click",function(e){e.preventDefault();var t=document.getElementById("user_id").value,n=document.getElementById("name").value,a=document.getElementById("email").value,d=document.getElementById("password").value;return""===t?(alert("ID를 입력하지 않으셨습니다."),document.getElementById("user_id").focus(),!1):""===n?(alert("비밀번호를 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):""===a?(alert("E-Mail을 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):""===d?(alert("비밀번호를 입력하지 않으셨습니다."),document.getElementById("password").focus(),!1):t.length>=6&&t.length<=15?t.match(/[\s+=\-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\/]/)?(alert("ID에는 특수 문자가 들어갈 수 없습니다.\n(_ 제외)"),document.getElementById("user_id").focus(),!1):a.match(/(\w)+\@(\w)+\.(\w)+/)?d.match(/[\s+=_\-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\/]/)?d.match(/^(?=.*[a-zA-Z])(?=.*[\s+=_-`~!@#$%^&*)(}{\]\[\'\"\:\;\.\,\>\<\?\])(?=.*[0-9]).{8,16}$/)?d.search(/[0-9]/g)<0||d.search(/[a-z]/gi)<0?(alert("비밀번호는 숫자와 영문자를 혼용하여야 합니다."),document.getElementById("password").focus(),!1):/(\w)\1\1\1/.test(d)?(alert("비밀번호는 같은 문자를 4번 이상 사용하실 수 없습니다."),document.getElementById("password").focus(),!1):"string"==typeof t&&d.search(t)>-1?(alert("비밀번호에 아이디가 포함되었습니다."),document.getElementById("password").focus(),!1):void document.getElementById("join-form").submit():(alert("비밀번호는 10 ~ 15자리를 사용해야 합니다."),document.getElementById("password").focus(),!1):(alert("비밀번호는 키보드 상의 특수문자를 최소 1개 이상 사용해야 합니다."),document.getElementById("password").focus(),!1):(alert("올바르지 않은 E-mail 형식입니다."),document.getElementById("email").focus(),!1):(alert("ID는 6~15 글자만 허용합니다."),document.getElementById("user_id").focus(),!1)}),addEvent(document.getElementById("user_id"),"blur",function(e){serializing("check_id")}),addEvent(document.getElementById("email"),"blur",function(e){serializing("check_em")}),addEvent(document.getElementById("password"),"blur",function(e){serializing("check_pw")})};
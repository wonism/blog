var ready=function(){var t,e,a,n,s,o=function(t,e){var a=Date.now();return function(){a+e-Date.now()<0&&(t(),a=Date.now())}},r='<article class="post-card"><a class="post-image-link" href="/posts/{{id}}"><img class="post-image" src="{{background_image}}" alt="post image"></a><section class="post-information"><i class="fa fa-tags"></i><a class="post-category-link" href="/posts/categories/{{category_id}}"><span class="post-category-name">{{category_id}}</span></a>&nbsp;&nbsp;<i class="fa fa-calendar"></i><span class="post-registered">{{created_at}}</span><a class="post-link-title" href="/posts/{{id}}"><h1 class="post-title">{{title}}</h1></a><p class="post-content">{{text}}</p><a class="" href="/posts/{{id}}">Go to Link →</a></section></article>',c=function(){var o=jj(".pagination")[0],c=jj(".pagination .next a")[0];if(e=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,a=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c&&a>document.body.scrollHeight-2*s){var l,d,m,p,g,u,f,h;c.parentNode.setAttribute("class",""),l=c.getAttribute("href"),u={},f={},h={},l&&(d=new XMLHttpRequest,d.open("GET",l),d.onreadystatechange=function(){var e,a;if(e=4,a=200,4==d.readyState&&200==d.status){m=JSON.parse(d.responseText),p=m.pages,g=m.page,h=m.posts,u=m.categories;for(var n=0;n<u.length;n++){var s=u[n].id;f[s]=u[n].name}if(h){var c,l,y;for(c=[],postCounter=0;postCounter<h.length;postCounter++){for(var C=r,N=h[postCounter],w="";C.match(/(?:\{{2})(\w{1,})+(?:\}{2})/);)if(w=C.match(/(?:\{{2})(\w{1,})+(?:\}{2})/)[1],"created_at"===w){var b=N[w],E="",v=["JAN","FAB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];E=""+v[(b.match(/(?:\d{4}-)(\d{2})(?:-\d{2})+/)[1]>>0)-1]+" "+b.match(/(?:\d{4}-\d{2}-)(\d{2})/)[1]+". "+b.match(/(\d{4})(?:-\d{2}-\d{2})/)[1],C=C.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,E)}else C=N[w].length>200?C.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,N[w].substring(0,200)+"..."):C.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,N[w]);for(;C.match(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/);)w=C.match(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/)[1],C=C.replace(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/,'<span class="post-category-name"> '+f[w]+" </span>");c.push(C)}for(t.insertAdjacentHTML("beforeend",c.join("")),t.removeChild(o),l=document.createElement("ul"),l.setAttribute("class","list-layout pagination none"),y=[],i=g;i<=p;i++){var B=document.createElement("li"),x=document.createElement("a");i===g?B.setAttribute("class","active"):i===g+1&&B.setAttribute("class","next"),x.setAttribute("href","/?page="+i),B.appendChild(x),l.appendChild(B)}t.insertAdjacentHTML("beforeend",l.outerHTML)}}},d.send())}};t=jj("#body-container"),e=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,a=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,addEvent(document.body,"click",function(t){t.target.className&&(t.target.className.match(/^post\-link\-image$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.parentNode.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-thumbnail$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.parentNode.parentNode.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-link\-title$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-title$|^post\-title\s/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.textContent.trim()):t.target.className.match(/^post\-category\-link/)?ga("send","event","메인","Button Press","포스트 카테고리 클릭 - "+t.target.getElementsByClassName("post-category-name")[0].textContent.trim()):t.target.className.match(/^post\-category\-name/)&&ga("send","event","메인","Button Press","포스트 카테고리 클릭 - "+t.target.textContent.trim()))}),window.onscroll=o(c,100)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4ubWluLmpzIl0sIm5hbWVzIjpbInJlYWR5IiwiYm9keUNvbnRhaW5lciIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJ3aW5kb3dYIiwid2luZG93WSIsInRocm90dGxlIiwiY2IiLCJpbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJjYXJkVGVtcGxhdGUiLCJnZXRQb3N0cyIsInBhZ2luYXRpb24iLCJqaiIsIm5leHRQYWdlIiwic3VwcG9ydFBhZ2VPZmZzZXQiLCJ3aW5kb3ciLCJwYWdlWE9mZnNldCIsImlzQ1NTMUNvbXBhdCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsImJvZHkiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwibmV4dFVybCIsInhociIsInJlc3VsdCIsInBhZ2VzIiwicGFnZSIsImNhdGVnb3JpZXMiLCJjYXRlZ29yeUlkTmFtZSIsInBvc3RzIiwicGFyZW50Tm9kZSIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIkRPTkUiLCJPSyIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjYXRlZ29yeUNvdW50ZXIiLCJsZW5ndGgiLCJpZFN0ciIsImlkIiwibmFtZSIsInRlbXBsYXRlQXJyIiwidWwiLCJsaUFyciIsInBvc3RDb3VudGVyIiwidGVtcGxhdGUiLCJwb3N0Iiwia2V5IiwibWF0Y2giLCJkYXRlIiwiZGF0ZVN0ciIsIm1vbnRoU3RyQXJyIiwicmVwbGFjZSIsInN1YnN0cmluZyIsInB1c2giLCJpbnNlcnRBZGphY2VudEhUTUwiLCJqb2luIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwiaSIsImxpIiwiYSIsImFwcGVuZENoaWxkIiwib3V0ZXJIVE1MIiwic2VuZCIsImFkZEV2ZW50IiwiZSIsInRhcmdldCIsImNsYXNzTmFtZSIsImdhIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRleHRDb250ZW50IiwidHJpbSIsIm9uc2Nyb2xsIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxPQUFRLFdBQ1YsR0FBSUMsR0FDQUMsRUFBVUMsRUFDVkMsRUFBU0MsRUFFVEMsRUFBVyxTQUFVQyxFQUFJQyxHQUMzQixHQUFJQyxHQUFNQyxLQUFLRCxLQUVmLE9BQU8sWUFDQUEsRUFBTUQsRUFBV0UsS0FBS0QsTUFBUyxJQUNsQ0YsSUFDQUUsRUFBTUMsS0FBS0QsU0FLYkUsRUFBZSxtbkJBMkJmQyxFQUFXLFdBQ2IsR0FBSUMsR0FBYUMsR0FBRyxlQUFlLEdBQy9CQyxFQUFXRCxHQUFHLHVCQUF1QixFQVF6QyxJQU5BWixFQUFXYyxrQkFBb0JDLE9BQU9DLFlBQWNDLGFBQWVDLFNBQVNDLGdCQUFnQkMsV0FBYUYsU0FBU0csS0FBS0QsV0FDdkhuQixFQUFXYSxrQkFBb0JDLE9BQU9PLFlBQWNMLGFBQWVDLFNBQVNDLGdCQUFnQkksVUFBWUwsU0FBU0csS0FBS0UsVUFFdEhyQixFQUFVYSxPQUFPUyxZQUFjTixTQUFTQyxnQkFBZ0JNLGFBQWVQLFNBQVNHLEtBQUtJLFlBQ3JGdEIsRUFBVVksT0FBT1csYUFBZVIsU0FBU0MsZ0JBQWdCUSxjQUFnQlQsU0FBU0csS0FBS00sYUFFbkZkLEdBQ0VaLEVBQVdpQixTQUFTRyxLQUFLTyxhQUFnQixFQUFJekIsRUFBVSxDQUN6RCxHQUFJMEIsR0FBU0MsRUFBS0MsRUFDZEMsRUFBT0MsRUFBTUMsRUFBWUMsRUFBZ0JDLENBRTdDdkIsR0FBU3dCLFdBQVdDLGFBQWEsUUFBUyxJQUMxQ1QsRUFBVWhCLEVBQVMwQixhQUFhLFFBRWhDTCxLQUNBQyxLQUNBQyxLQUVJUCxJQUNGQyxFQUFNLEdBQUlVLGdCQUNWVixFQUFJVyxLQUFLLE1BQU9aLEdBQ2hCQyxFQUFJWSxtQkFBcUIsV0FDdkIsR0FB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RUFBVSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJvZHlDb250YWluZXIsIHBhZ2luYXRpb24sIG5leHRQYWdlO1xuICB2YXIgY3VycmVudFgsIGN1cnJlbnRZO1xuICB2YXIgd2luZG93WCwgd2luZG93WTtcblxuICB2YXIgdGhyb3R0bGUgPSBmdW5jdGlvbiAoY2IsIGludGVydmFsKSB7XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoKG5vdyArIGludGVydmFsIC0gRGF0ZS5ub3coKSkgPCAwKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICAgIG5vdyA9IERhdGUubm93KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhcmRUZW1wbGF0ZSA9ICcnICtcbiAgICAgICc8YXJ0aWNsZSBjbGFzcz1cInBvc3QtY2FyZFwiPicgK1xuICAgICAgJzxhIGNsYXNzPVwicG9zdC1pbWFnZS1saW5rXCIgaHJlZj1cIi9wb3N0cy97e2lkfX1cIj4nICtcbiAgICAgICc8aW1nIGNsYXNzPVwicG9zdC1pbWFnZVwiIHNyYz1cInt7YmFja2dyb3VuZF9pbWFnZX19XCIgYWx0PVwicG9zdCBpbWFnZVwiPicgK1xuICAgICAgJzwvYT4nICtcbiAgICAgICc8c2VjdGlvbiBjbGFzcz1cInBvc3QtaW5mb3JtYXRpb25cIj4nICtcbiAgICAgICc8aSBjbGFzcz1cImZhIGZhLXRhZ3NcIj48L2k+JyArXG4gICAgICAnPGEgY2xhc3M9XCJwb3N0LWNhdGVnb3J5LWxpbmtcIiBocmVmPVwiL3Bvc3RzL2NhdGVnb3JpZXMve3tjYXRlZ29yeV9pZH19XCI+JyArXG4gICAgICAnPHNwYW4gY2xhc3M9XCJwb3N0LWNhdGVnb3J5LW5hbWVcIj4nICtcbiAgICAgICd7e2NhdGVnb3J5X2lkfX0nICtcbiAgICAgICc8L3NwYW4+JyArXG4gICAgICAnPC9hPicgK1xuICAgICAgJyZuYnNwOyZuYnNwOycgK1xuICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtY2FsZW5kYXJcIj48L2k+JyArXG4gICAgICAnPHNwYW4gY2xhc3M9XCJwb3N0LXJlZ2lzdGVyZWRcIj4nICtcbiAgICAgICd7e2NyZWF0ZWRfYXR9fScgK1xuICAgICAgJzwvc3Bhbj4nICtcbiAgICAgICc8YSBjbGFzcz1cInBvc3QtbGluay10aXRsZVwiIGhyZWY9XCIvcG9zdHMve3tpZH19XCI+JyArXG4gICAgICAnPGgxIGNsYXNzPVwicG9zdC10aXRsZVwiPicgK1xuICAgICAgJ3t7dGl0bGV9fScgK1xuICAgICAgJzwvaDE+JyArXG4gICAgICAnPC9hPicgK1xuICAgICAgJzxwIGNsYXNzPVwicG9zdC1jb250ZW50XCI+e3t0ZXh0fX08L3A+JyArXG4gICAgICAnPGEgY2xhc3M9XCJcIiBocmVmPVwiL3Bvc3RzL3t7aWR9fVwiPkdvIHRvIExpbmsg4oaSPC9hPicgK1xuICAgICAgJzwvc2VjdGlvbj4nICtcbiAgICAgICc8L2FydGljbGU+JztcblxuICB2YXIgZ2V0UG9zdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhZ2luYXRpb24gPSBqaignLnBhZ2luYXRpb24nKVswXTtcbiAgICB2YXIgbmV4dFBhZ2UgPSBqaignLnBhZ2luYXRpb24gLm5leHQgYScpWzBdO1xuXG4gICAgY3VycmVudFggPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IDogZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuICAgIGN1cnJlbnRZID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cbiAgICB3aW5kb3dYID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG4gICAgd2luZG93WSA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuXG4gICAgaWYgKG5leHRQYWdlKSB7XG4gICAgICBpZiAoY3VycmVudFkgPiBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCAtICgyICogd2luZG93WSkpIHtcbiAgICAgICAgdmFyIG5leHRVcmwsIHhociwgcmVzdWx0O1xuICAgICAgICB2YXIgcGFnZXMsIHBhZ2UsIGNhdGVnb3JpZXMsIGNhdGVnb3J5SWROYW1lLCBwb3N0cztcblxuICAgICAgICBuZXh0UGFnZS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnJyk7XG4gICAgICAgIG5leHRVcmwgPSBuZXh0UGFnZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgICAgICBjYXRlZ29yaWVzID0ge307XG4gICAgICAgIGNhdGVnb3J5SWROYW1lID0ge307XG4gICAgICAgIHBvc3RzID0ge307XG5cbiAgICAgICAgaWYgKG5leHRVcmwpIHtcbiAgICAgICAgICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCBuZXh0VXJsKTtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIERPTkUsIE9LO1xuXG4gICAgICAgICAgICBET05FID0gNDtcbiAgICAgICAgICAgIE9LID0gMjAwO1xuXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT0gNCB8fCB4aHIuc3RhdHVzICE9IDIwMCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgIHBhZ2VzID0gcmVzdWx0LnBhZ2VzO1xuICAgICAgICAgICAgcGFnZSA9IHJlc3VsdC5wYWdlO1xuXG4gICAgICAgICAgICBwb3N0cyA9IHJlc3VsdC5wb3N0cztcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSByZXN1bHQuY2F0ZWdvcmllcztcblxuICAgICAgICAgICAgdmFyIGNhdGVnb3J5Q291bnRlciA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgY2F0ZWdvcnlDb3VudGVyIDwgY2F0ZWdvcmllcy5sZW5ndGg7IGNhdGVnb3J5Q291bnRlcisrKSB7XG4gICAgICAgICAgICAgIHZhciBpZFN0ciA9IGNhdGVnb3JpZXNbY2F0ZWdvcnlDb3VudGVyXS5pZDtcbiAgICAgICAgICAgICAgY2F0ZWdvcnlJZE5hbWVbaWRTdHJdID0gY2F0ZWdvcmllc1tjYXRlZ29yeUNvdW50ZXJdLm5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb3N0cykge1xuICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVBcnI7XG4gICAgICAgICAgICAgIHZhciB1bCwgbGlBcnIsIHBhZ2VOdW1iZXI7XG5cbiAgICAgICAgICAgICAgdGVtcGxhdGVBcnIgPSBbXTtcblxuICAgICAgICAgICAgICBwb3N0Q291bnRlciA9IDA7XG4gICAgICAgICAgICAgIGZvciAoOyBwb3N0Q291bnRlciA8IHBvc3RzLmxlbmd0aDsgcG9zdENvdW50ZXIrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdCA9IHBvc3RzW3Bvc3RDb3VudGVyXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gJyc7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAodGVtcGxhdGUubWF0Y2goLyg/Olxce3syfSkoXFx3ezEsfSkrKD86XFx9ezJ9KS8pKSB7XG4gICAgICAgICAgICAgICAgICBrZXkgPSB0ZW1wbGF0ZS5tYXRjaCgvKD86XFx7ezJ9KShcXHd7MSx9KSsoPzpcXH17Mn0pLylbMV07XG4gICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnY3JlYXRlZF9hdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBwb3N0W2tleV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlU3RyID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aFN0ckFyciA9IFsnSkFOJywgJ0ZBQicsICdNQVInLCAnQVBSJywgJ01BWScsICdKVU4nLCAnSlVMJywgJ0FVRycsICdTRVAnLCAnT0NUJywgJ05PVicsICdERUMnXTtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVN0ciA9ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoU3RyQXJyWyhkYXRlLm1hdGNoKC8oPzpcXGR7NH0tKShcXGR7Mn0pKD86LVxcZHsyfSkrLylbMV0gPj4gMCkgLSAxXSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLm1hdGNoKC8oPzpcXGR7NH0tXFxkezJ9LSkoXFxkezJ9KS8pWzFdICsgJy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLm1hdGNoKC8oXFxkezR9KSg/Oi1cXGR7Mn0tXFxkezJ9KS8pWzFdO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyg/Olxce3syfSkoXFx3ezEsfSkrKD86XFx9ezJ9KS8sIGRhdGVTdHIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3Rba2V5XS5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyg/Olxce3syfSkoXFx3ezEsfSkrKD86XFx9ezJ9KS8sIHBvc3Rba2V5XS5zdWJzdHJpbmcoMCwgMjAwKSArICcuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyg/Olxce3syfSkoXFx3ezEsfSkrKD86XFx9ezJ9KS8sIHBvc3Rba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAodGVtcGxhdGUubWF0Y2goLyg/OjxzcGFuW14+XSo+KShcXGR7MSx9KSsoPzpcXDxcXC9zcGFuXFw+KS8pKSB7XG4gICAgICAgICAgICAgICAgICBrZXkgPSB0ZW1wbGF0ZS5tYXRjaCgvKD86PHNwYW5bXj5dKj4pKFxcZHsxLH0pKyg/OlxcPFxcL3NwYW5cXD4pLylbMV07XG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoLyg/OjxzcGFuW14+XSo+KShcXGR7MSx9KSsoPzpcXDxcXC9zcGFuXFw+KS8sICc8c3BhbiBjbGFzcz1cInBvc3QtY2F0ZWdvcnktbmFtZVwiPiAnICsgY2F0ZWdvcnlJZE5hbWVba2V5XSArICcgPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUFyci5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJvZHlDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB0ZW1wbGF0ZUFyci5qb2luKCcnKSk7XG4gICAgICAgICAgICAgIGJvZHlDb250YWluZXIucmVtb3ZlQ2hpbGQocGFnaW5hdGlvbik7XG5cbiAgICAgICAgICAgICAgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICAgICAgICB1bC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xpc3QtbGF5b3V0IHBhZ2luYXRpb24gbm9uZScpO1xuXG4gICAgICAgICAgICAgIGxpQXJyID0gW107XG5cbiAgICAgICAgICAgICAgaSA9IHBhZ2U7XG4gICAgICAgICAgICAgIGZvciAoOyBpIDw9IHBhZ2VzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBwYWdlKSB7XG4gICAgICAgICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gcGFnZSArIDEpIHtcbiAgICAgICAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbmV4dCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsICcvP3BhZ2U9JyArIGkpO1xuICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJvZHlDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB1bC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBib2R5Q29udGFpbmVyID0gamooJyNib2R5LWNvbnRhaW5lcicpO1xuXG4gIGN1cnJlbnRYID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDtcbiAgY3VycmVudFkgPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblxuICB3aW5kb3dYID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XG4gIHdpbmRvd1kgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcblxuICBhZGRFdmVudChkb2N1bWVudC5ib2R5LCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUpIHtcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUubWF0Y2goL15wb3N0XFwtbGlua1xcLWltYWdlJC8pKSB7XG4gICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ+uplOyduCcsICdCdXR0b24gUHJlc3MnLCAn7Y+s7Iqk7Yq4IO2BtOumrSAtIFsnICtcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9zdC1jYXRlZ29yeS1uYW1lJylbMF0udGV4dENvbnRlbnQudHJpbSgpICsgJ10gJyArXG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bvc3QtdGl0bGUnKVswXS50ZXh0Q29udGVudC50cmltKCkpO1xuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUubWF0Y2goL15wb3N0XFwtdGh1bWJuYWlsJC8pKSB7XG4gICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ+uplOyduCcsICdCdXR0b24gUHJlc3MnLCAn7Y+s7Iqk7Yq4IO2BtOumrSAtIFsnICtcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3N0LWNhdGVnb3J5LW5hbWUnKVswXS50ZXh0Q29udGVudC50cmltKCkgKyAnXSAnICtcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3N0LXRpdGxlJylbMF0udGV4dENvbnRlbnQudHJpbSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NOYW1lLm1hdGNoKC9ecG9zdFxcLWxpbmtcXC10aXRsZSQvKSkge1xuICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICfrqZTsnbgnLCAnQnV0dG9uIFByZXNzJywgJ+2PrOyKpO2KuCDtgbTrpq0gLSBbJyArXG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bvc3QtY2F0ZWdvcnktbmFtZScpWzBdLnRleHRDb250ZW50LnRyaW0oKSArICddICcgK1xuICAgICAgICAgICAgZS50YXJnZXQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9zdC10aXRsZScpWzBdLnRleHRDb250ZW50LnRyaW0oKSk7XG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5tYXRjaCgvXnBvc3RcXC10aXRsZSR8XnBvc3RcXC10aXRsZVxccy8pKSB7XG4gICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ+uplOyduCcsICdCdXR0b24gUHJlc3MnLCAn7Y+s7Iqk7Yq4IO2BtOumrSAtIFsnICtcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3N0LWNhdGVnb3J5LW5hbWUnKVswXS50ZXh0Q29udGVudC50cmltKCkgKyAnXSAnICtcbiAgICAgICAgICAgIGUudGFyZ2V0LnRleHRDb250ZW50LnRyaW0oKSk7XG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5tYXRjaCgvXnBvc3RcXC1jYXRlZ29yeVxcLWxpbmsvKSkge1xuICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICfrqZTsnbgnLCAnQnV0dG9uIFByZXNzJywgJ+2PrOyKpO2KuCDsubTthYzqs6Drpqwg7YG066atIC0gJyArXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3N0LWNhdGVnb3J5LW5hbWUnKVswXS50ZXh0Q29udGVudC50cmltKCkpO1xuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUubWF0Y2goL15wb3N0XFwtY2F0ZWdvcnlcXC1uYW1lLykpIHtcbiAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAn66mU7J24JywgJ0J1dHRvbiBQcmVzcycsICftj6zsiqTtirgg7Lm07YWM6rOg66asIO2BtOumrSAtICcgK1xuICAgICAgICAgICAgZS50YXJnZXQudGV4dENvbnRlbnQudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5vbnNjcm9sbCA9IHRocm90dGxlKGdldFBvc3RzLCAxMDApO1xuICAvKlxuICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICB2YXIgcGFnaW5hdGlvbiA9IGpqKCcucGFnaW5hdGlvbicpWzBdO1xuICAgIHZhciBuZXh0UGFnZSA9IGpqKCcucGFnaW5hdGlvbiAubmV4dCBhJylbMF07XG5cbiAgICBjdXJyZW50WCA9IHN1cHBvcnRQYWdlT2Zmc2V0ID8gd2luZG93LnBhZ2VYT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7XG4gICAgY3VycmVudFkgPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblxuICAgIHdpbmRvd1ggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcbiAgICB3aW5kb3dZID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XG5cbiAgICBpZiAobmV4dFBhZ2UpIHtcbiAgICAgIGlmIChjdXJyZW50WSArIHdpbmRvd1kgPiBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCAtIDUwKSB7XG4gICAgICAgIHZhciBuZXh0VXJsLCB4aHIsIHJlc3VsdDtcbiAgICAgICAgdmFyIHBhZ2VzLCBwYWdlLCBjYXRlZ29yaWVzLCBjYXRlZ29yeUlkTmFtZSwgcG9zdHM7XG5cbiAgICAgICAgbmV4dFBhZ2UucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJycpO1xuICAgICAgICBuZXh0VXJsID0gbmV4dFBhZ2UuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cbiAgICAgICAgY2F0ZWdvcmllcyA9IHt9O1xuICAgICAgICBjYXRlZ29yeUlkTmFtZSA9IHt9O1xuICAgICAgICBwb3N0cyA9IHt9O1xuXG4gICAgICAgIGlmIChuZXh0VXJsKSB7XG4gICAgICAgICAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgbmV4dFVybCk7XG4gICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBET05FLCBPSztcblxuICAgICAgICAgICAgRE9ORSA9IDQ7XG4gICAgICAgICAgICBPSyA9IDIwMDtcblxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9IDQgfHwgeGhyLnN0YXR1cyAhPSAyMDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICBwYWdlcyA9IHJlc3VsdC5wYWdlcztcbiAgICAgICAgICAgIHBhZ2UgPSByZXN1bHQucGFnZTtcblxuICAgICAgICAgICAgcG9zdHMgPSByZXN1bHQucG9zdHM7XG4gICAgICAgICAgICBjYXRlZ29yaWVzID0gcmVzdWx0LmNhdGVnb3JpZXM7XG5cbiAgICAgICAgICAgIHZhciBjYXRlZ29yeUNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGNhdGVnb3J5Q291bnRlciA8IGNhdGVnb3JpZXMubGVuZ3RoOyBjYXRlZ29yeUNvdW50ZXIrKykge1xuICAgICAgICAgICAgICB2YXIgaWRTdHIgPSBjYXRlZ29yaWVzW2NhdGVnb3J5Q291bnRlcl0uaWQ7XG4gICAgICAgICAgICAgIGNhdGVnb3J5SWROYW1lW2lkU3RyXSA9IGNhdGVnb3JpZXNbY2F0ZWdvcnlDb3VudGVyXS5uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9zdHMpIHtcbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlQXJyO1xuICAgICAgICAgICAgICB2YXIgdWwsIGxpQXJyLCBwYWdlTnVtYmVyO1xuXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXJyID0gW107XG5cbiAgICAgICAgICAgICAgcG9zdENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgICBmb3IgKDsgcG9zdENvdW50ZXIgPCBwb3N0cy5sZW5ndGg7IHBvc3RDb3VudGVyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3QgPSBwb3N0c1twb3N0Q291bnRlcl07XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9ICcnO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRlbXBsYXRlLm1hdGNoKC8oPzpcXHt7Mn0pKFxcd3sxLH0pKyg/OlxcfXsyfSkvKSkge1xuICAgICAgICAgICAgICAgICAga2V5ID0gdGVtcGxhdGUubWF0Y2goLyg/Olxce3syfSkoXFx3ezEsfSkrKD86XFx9ezJ9KS8pWzFdO1xuICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NyZWF0ZWRfYXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gcG9zdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVN0ciA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhTdHJBcnIgPSBbJ0pBTicsICdGQUInLCAnTUFSJywgJ0FQUicsICdNQVknLCAnSlVOJywgJ0pVTCcsICdBVUcnLCAnU0VQJywgJ09DVCcsICdOT1YnLCAnREVDJ107XG4gICAgICAgICAgICAgICAgICAgIGRhdGVTdHIgPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aFN0ckFyclsoZGF0ZS5tYXRjaCgvKD86XFxkezR9LSkoXFxkezJ9KSg/Oi1cXGR7Mn0pKy8pWzFdID4+IDApIC0gMV0gKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5tYXRjaCgvKD86XFxkezR9LVxcZHsyfS0pKFxcZHsyfSkvKVsxXSArICcuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5tYXRjaCgvKFxcZHs0fSkoPzotXFxkezJ9LVxcZHsyfSkvKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8oPzpcXHt7Mn0pKFxcd3sxLH0pKyg/OlxcfXsyfSkvLCBkYXRlU3RyKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0W2tleV0ubGVuZ3RoID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8oPzpcXHt7Mn0pKFxcd3sxLH0pKyg/OlxcfXsyfSkvLCBwb3N0W2tleV0uc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8oPzpcXHt7Mn0pKFxcd3sxLH0pKyg/OlxcfXsyfSkvLCBwb3N0W2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRlbXBsYXRlLm1hdGNoKC8oPzo8c3BhbltePl0qPikoXFxkezEsfSkrKD86XFw8XFwvc3BhblxcPikvKSkge1xuICAgICAgICAgICAgICAgICAga2V5ID0gdGVtcGxhdGUubWF0Y2goLyg/OjxzcGFuW14+XSo+KShcXGR7MSx9KSsoPzpcXDxcXC9zcGFuXFw+KS8pWzFdO1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC8oPzo8c3BhbltePl0qPikoXFxkezEsfSkrKD86XFw8XFwvc3BhblxcPikvLCAnPHNwYW4gY2xhc3M9XCJwb3N0LWNhdGVnb3J5LW5hbWVcIj4gJyArIGNhdGVnb3J5SWROYW1lW2tleV0gKyAnIDwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBib2R5Q29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGVtcGxhdGVBcnIuam9pbignJykpO1xuICAgICAgICAgICAgICBib2R5Q29udGFpbmVyLnJlbW92ZUNoaWxkKHBhZ2luYXRpb24pO1xuXG4gICAgICAgICAgICAgIHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgICAgICAgdWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsaXN0LWxheW91dCBwYWdpbmF0aW9uIG5vbmUnKTtcblxuICAgICAgICAgICAgICBsaUFyciA9IFtdO1xuXG4gICAgICAgICAgICAgIGkgPSBwYWdlO1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8PSBwYWdlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IHBhZ2UgKyAxKSB7XG4gICAgICAgICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25leHQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnLz9wYWdlPScgKyBpKTtcbiAgICAgICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBib2R5Q29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdWwub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gICovXG59O1xuXG4iXX0=

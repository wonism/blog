var cardTemplate='<article class="post-card"><a class="post-image-link" href="/posts/{{id}}"><img class="post-image" src="{{background_image}}" alt="post image"></a><section class="post-information"><i class="fa fa-tags"></i><a class="post-category-link" href="/posts/categories/{{category_id}}"><span class="post-category-name">{{category_id}}</span></a>&nbsp;&nbsp;<i class="fa fa-calendar"></i><span class="post-registered">{{created_at}}</span><a class="post-link-title" href="/posts/{{id}}"><h1 class="post-title">{{title}}</h1></a><p class="post-content">{{text}}</p><a class="" href="/posts/{{id}}">Go to Link →</a></section></article>',ready=function(){var t,e,a;t=jj("#body-container"),e=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,a=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop,addEvent(document.body,"click",function(t){t.target.className&&(t.target.className.match(/^post\-link\-image$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.parentNode.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-thumbnail$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.parentNode.parentNode.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-link\-title$/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.getElementsByClassName("post-title")[0].textContent.trim()):t.target.className.match(/^post\-title$|^post\-title\s/)?ga("send","event","메인","Button Press","포스트 클릭 - ["+t.target.parentNode.parentNode.getElementsByClassName("post-category-name")[0].textContent.trim()+"] "+t.target.textContent.trim()):t.target.className.match(/^post\-category\-link/)?ga("send","event","메인","Button Press","포스트 카테고리 클릭 - "+t.target.getElementsByClassName("post-category-name")[0].textContent.trim()):t.target.className.match(/^post\-category\-name/)&&ga("send","event","메인","Button Press","포스트 카테고리 클릭 - "+t.target.textContent.trim()))}),window.onscroll=function(s){var n=(s||window.event,jj(".pagination")[0]),o=jj(".pagination .next a")[0];if(e=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,a=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop,o&&a+document.body.clientHeight>document.body.scrollHeight-50){var r,c,l,p,m,d,g,u;o.parentNode.setAttribute("class",""),r=o.getAttribute("href"),d={},g={},u={},r&&(c=new XMLHttpRequest,c.open("GET",r),c.onreadystatechange=function(){var e,a;if(e=4,a=200,4==c.readyState&&200==c.status){l=JSON.parse(c.responseText),p=l.pages,m=l.page,u=l.posts,d=l.categories;for(var s=0;s<d.length;s++){var o=d[s].id;g[o]=d[s].name}if(u){var r,f,C;for(r=[],postCounter=0;postCounter<u.length;postCounter++){for(var h=cardTemplate,y=u[postCounter],N="";h.match(/(?:\{{2})(\w{1,})+(?:\}{2})/);)if(N=h.match(/(?:\{{2})(\w{1,})+(?:\}{2})/)[1],"created_at"===N){var b=y[N],v="",E=["JAN","FAB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];v=""+E[(b.match(/(?:\d{4}-)(\d{2})(?:-\d{2})+/)[1]>>0)-1]+" "+b.match(/(?:\d{4}-\d{2}-)(\d{2})/)[1]+". "+b.match(/(\d{4})(?:-\d{2}-\d{2})/)[1],h=h.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,v)}else h=y[N].length>200?h.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,y[N].substring(0,200)+"..."):h.replace(/(?:\{{2})(\w{1,})+(?:\}{2})/,y[N]);for(;h.match(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/);)N=h.match(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/)[1],h=h.replace(/(?:<span[^>]*>)(\d{1,})+(?:\<\/span\>)/,'<span class="post-category-name"> '+g[N]+" </span>");r.push(h)}for(t.insertAdjacentHTML("beforeend",r.join("")),t.removeChild(n),f=document.createElement("ul"),f.setAttribute("class","list-layout pagination none"),C=[],i=m;i<=p;i++){var w=document.createElement("li"),B=document.createElement("a");i===m?w.setAttribute("class","active"):i===m+1&&w.setAttribute("class","next"),B.setAttribute("href","/?page="+i),w.appendChild(B),f.appendChild(w)}t.insertAdjacentHTML("beforeend",f.outerHTML)}}},c.send())}}};